---
- name: Process Data Verification Request
  hosts: {{mitigation_host}}
  become: yes
  gather_facts: no
  
  tasks:
    - name: Log verification request
      debug:
        msg: "Processing data verification request for module {{target_module}} with mode {{verification_mode}}"
    
    - name: Send verification signal to target module
      uri:
        url: "http://{{target_module}}.service.internal/api/verify"
        method: POST
        body_format: json
        body:
          verification_mode: "{{verification_mode}}"
          initiated_by: "RTR"
        status_code: 200
      register: verification_result
      ignore_errors: yes
      
    - name: Report verification status
      debug:
        msg: "Verification request {{verification_result.status}}"